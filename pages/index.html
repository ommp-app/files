<script src="{S:DIR}prepared_media/files/mime_types.js?v={S:PAGE_RESOURCES_VERSION}"></script>
<script src="{S:DIR}prepared_media/files/3rd-party.js?v={S:PAGE_RESOURCES_VERSION}"></script>
<script src="{S:DIR}prepared_media/files/main.js?v={S:PAGE_RESOURCES_VERSION}"></script>
<link rel="stylesheet" href="{S:DIR}prepared_media/files/style.css?v={S:PAGE_RESOURCES_VERSION}" />
<div class="row d-flex justify-content-center">
    <div class="col-lg-10 col-xl-8 col-xxl-7 mt-5 text-center">
		<h1>{L:MY_FILES}</h1>
        <div id="content" class="text-start mt-3"></div>
    </div>
</div>
<div id="image-viewer">
	<img src="{S:DIR}media/ommp/images/loading.gif" alt=""/>
	<img src="" id="image-view" alt="" />
	<a id="image-prev" class="prevent-close" href=""><img class="prevent-close" src="{S:DIR}media/files/arrow.svg" alt="{L:PREV}" title="{L:PREV}" /></a>
	<a id="image-next" class="prevent-close" href=""><img class="prevent-close" src="{S:DIR}media/files/arrow.svg" alt="{L:NEXT}" title="{L:NEXT}" /></a>
</div>
<div id="text-editor">
	<div id="text-controls"></div>
	<textarea id="text-content" class="prevent-close" spellcheck="true"></textarea>
</div>
<script>
// Check if we can display files list
if ({R:files.allow_private_files}) {
	// Get path if needed
	var path = '/';
	if (location.hash) {
		path = location.hash.substr(1);
	}
	// Display private files list
	displayPrivateFileList('content', path);
	// Listen hash change
	window.addEventListener('hashchange', (e) => {
		// Get the path
		var hash = location.hash.substr(0, 1) == '#' ? location.hash.substr(1) : location.hash;
		// Update the display
		displayPrivateFileList('content', hash);
	}, false);
}
</script>